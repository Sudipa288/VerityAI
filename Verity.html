<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VerityAI - Agricultural AI Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: poppins;
            background-image: url('pexels-designstrive-1334312.jpg');
            background-color: rgba(0,0,0,0.5);
            background-size: cover;
            background-position: center;
        }

        :root {
            --primary-green: #2d5a2d;
            --light-green: #4a7c4e;
            --accent-green: #6ba76f;
            --bg-white: #ffffff;
            --light-gray: #f5f5f5;
            --text-dark: #1a1a1a;
            --text-light: #666666;
            --border-color: #e0e0e0;
            --success-green: #27ae60;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: var(--light-gray);
            color: var(--text-dark);
        }

        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            background: var(--bg-white);
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--light-green) 100%);
            color: white;
            padding: 20px 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 20px;
        }

        .header-title {
            font-size: 24px;
            font-weight: 600;
        }

        .header-subtitle {
            font-size: 14px;
            opacity: 0.9;
            margin-left: auto;
        }

        /* Chat Area */
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
            padding: 20px;
            gap: 20px;
        }

        .messages-box {
            flex: 1;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            background: var(--bg-white);
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .messages-box::-webkit-scrollbar {
            width: 8px;
        }

        .messages-box::-webkit-scrollbar-track {
            background: var(--light-gray);
            border-radius: 10px;
        }

        .messages-box::-webkit-scrollbar-thumb {
            background: var(--accent-green);
            border-radius: 10px;
        }

        .message {
            display: flex;
            gap: 12px;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            justify-content: flex-end;
        }

        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
            flex-shrink: 0;
        }

        .user .message-avatar {
            background: var(--primary-green);
            color: white;
        }

        .assistant .message-avatar {
            background: var(--accent-green);
            color: white;
        }

        .message-content {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 12px;
            word-wrap: break-word;
            line-height: 1.5;
        }

        .user .message-content {
            background: var(--primary-green);
            color: white;
        }

        .assistant .message-content {
            background: var(--light-gray);
            color: var(--text-dark);
            border: 1px solid var(--border-color);
        }

        .message-time {
            font-size: 12px;
            color: var(--text-light);
            margin-top: 4px;
            text-align: right;
        }

        .user .message-time {
            text-align: right;
        }

        /* Welcome State */
        .welcome-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 30px;
            padding: 40px 20px;
            text-align: center;
            height: 100%;
        }

        .welcome-icon {
            font-size: 64px;
            opacity: 0.8;
        }

        .welcome-title {
            font-size: 32px;
            font-weight: 600;
            color: var(--primary-green);
        }

        .welcome-description {
            font-size: 16px;
            color: var(--text-light);
            max-width: 500px;
        }

        .quick-prompts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
            width: 100%;
            max-width: 800px;
        }

        .prompt-button {
            padding: 16px;
            border: 2px solid var(--accent-green);
            background: var(--bg-white);
            color: var(--primary-green);
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .prompt-button:hover {
            background: var(--accent-green);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(45, 90, 45, 0.2);
        }

        /* Input Area */
        .input-area {
            border-top: 1px solid var(--border-color);
            padding: 20px;
            background: var(--bg-white);
        }

        .input-wrapper {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            gap: 12px;
        }

        .input-field {
            flex: 1;
            padding: 14px 16px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
            transition: border-color 0.3s ease;
            resize: none;
            max-height: 120px;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--accent-green);
            box-shadow: 0 0 0 3px rgba(107, 167, 111, 0.1);
        }

        .send-button {
            padding: 14px 24px;
            background: var(--primary-green);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .send-button:hover:not(:disabled) {
            background: var(--light-green);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(45, 90, 45, 0.3);
        }

        .send-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .loading-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: currentColor;
            animation: loading 1.4s infinite;
        }

        .loading-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .loading-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes loading {

            0%,
            60%,
            100% {
                opacity: 0.3;
            }

            30% {
                opacity: 1;
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .header-subtitle {
                margin-left: 0;
                font-size: 12px;
            }

            .message-content {
                max-width: 85%;
            }

            .welcome-title {
                font-size: 24px;
            }

            .quick-prompts {
                grid-template-columns: 1fr;
            }

            .input-wrapper {
                flex-direction: column;
            }

            .send-button {
                width: 100%;
            }
        }

        /* Loading State */
        .loading-message {
            display: flex;
            align-items: center;
            gap: 8px;
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="header-content">
                <div class="logo">ðŸŒ¾</div>
                <div>
                    <div class="header-title">VerityAI</div>
                    <div style="font-size: 12px; opacity: 0.9;">Your AI Agricultural Expert</div>
                </div>
                <div class="header-subtitle">Powered by Gryffindor</div>
            </div>
        </header>

        <!-- Chat Area -->
        <div class="chat-container">
            <div class="messages-box" id="messagesBox">
                <div class="welcome-section">
                    <div class="welcome-icon">ðŸŒ±</div>
                    <div class="welcome-title">Welcome to VerityAI</div>
                    <div class="welcome-description">
                        Get expert advice on crop management, pest control, soil health, weather patterns, and more. Ask
                        any agricultural question!
                    </div>
                    <div class="quick-prompts">
                        <button class="prompt-button" onclick="quickPrompt('How do I improve soil fertility?')">
                            Soil Fertility
                        </button>
                        <button class="prompt-button" onclick="quickPrompt('What are common crop diseases?')">
                            Crop Diseases
                        </button>
                        <button class="prompt-button" onclick="quickPrompt('Best irrigation techniques?')">
                            Irrigation Tips
                        </button>
                        <button class="prompt-button" onclick="quickPrompt('How to manage pests naturally?')">
                            Pest Management
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Input Area -->
        <div class="input-area">
            <div class="input-wrapper">
                <textarea class="input-field" id="queryInput" placeholder="Ask your agricultural question here..."
                    rows="1" onkeydown="handleKeyPress(event)"></textarea>
                <button class="send-button" id="sendButton" onclick="sendQuery()">
                    Send âžœ
                </button>
            </div>
        </div>
    </div>

    <script>
        const messagesBox = document.getElementById('messagesBox');
        const queryInput = document.getElementById('queryInput');
        const sendButton = document.getElementById('sendButton');

        // Auto-resize textarea
        queryInput.addEventListener('input', function () {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 120) + 'px';
        });

        // Handle Enter key
        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendQuery();
            }
        }

        // Quick prompt handler
        function quickPrompt(prompt) {
            queryInput.value = prompt;
            queryInput.focus();
            sendQuery();
        }

        // Format time
        function getTime() {
            const now = new Date();
            return now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
        }

        // Add message to chat
        function addMessage(text, isUser) {
            // Clear welcome section on first message
            if (messagesBox.querySelector('.welcome-section')) {
                messagesBox.innerHTML = '';
            }

            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'assistant'}`;

            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = isUser ? 'ðŸ‘¨â€ðŸŒ¾' : 'ðŸ¤–';

            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';
            contentDiv.textContent = text;

            if (isUser) {
                messageDiv.appendChild(contentDiv);
                messageDiv.appendChild(avatar);
            } else {
                messageDiv.appendChild(avatar);
                messageDiv.appendChild(contentDiv);
            }

            messagesBox.appendChild(messageDiv);
            messagesBox.scrollTop = messagesBox.scrollHeight;

            return messageDiv;
        }

        // Send query
        async function sendQuery() {
            const query = queryInput.value.trim();

            if (!query) return;

            // Add user message
            addMessage(query, true);
            queryInput.value = '';
            queryInput.style.height = 'auto';
            sendButton.disabled = true;

            // Add loading state
            const loadingMsg = addMessage('Analyzing your query...', false);
            const contentDiv = loadingMsg.querySelector('.message-content');

            try {
                // Call your trained model API here
                const response = await callAgricultureModel(query);

                // Remove loading message and add actual response
                loadingMsg.remove();
                addMessage(response, false);

            } catch (error) {
                loadingMsg.remove();
                addMessage('Sorry, there was an error processing your query. Please try again.', false);
                console.error('Error:', error);
            } finally {
                sendButton.disabled = false;
                queryInput.focus();
            }
        }

        // Call your trained model API
        async function callAgricultureModel(query) {
            // Replace this with your actual API endpoint
            // Example: const response = await fetch('YOUR_API_ENDPOINT', {...})

            // For now, returning mock responses based on keywords
            const mockResponses = {
                'soil fertility': 'To improve soil fertility: 1) Add organic matter (compost, manure) to increase nutrients. 2) Practice crop rotation to restore nitrogen. 3) Use green manure crops. 4) Apply balanced fertilizers based on soil testing. 5) Maintain proper pH levels (6.0-7.0 for most crops). Test your soil annually for best results.',
                'crop diseases': 'Common crop diseases include: 1) Powdery mildew - use sulfur fungicides. 2) Root rot - improve drainage and avoid overwatering. 3) Leaf spot - remove affected leaves and improve air circulation. 4) Blight - use resistant varieties and proper crop rotation. Always use preventive measures like proper spacing and sanitation.',
                'irrigation': 'Best irrigation techniques: 1) Drip irrigation - most efficient, water directly to roots. 2) Sprinkler irrigation - good for large areas. 3) Flood irrigation - simple but less efficient. Water early morning or evening to reduce evaporation. Monitor soil moisture and adjust based on rainfall.',
                'pest management': 'Natural pest management: 1) Introduce beneficial insects like ladybugs. 2) Use neem oil spray for many pests. 3) Practice crop rotation. 4) Remove affected plants early. 5) Use row covers for seedlings. 6) Plant companion crops that repel pests. Monitor regularly for early detection.'
            };

            // Simulate API delay
            await new Promise(resolve => setTimeout(resolve, 1500));

            // Find matching response
            const lowerQuery = query.toLowerCase();
            for (const [key, response] of Object.entries(mockResponses)) {
                if (lowerQuery.includes(key)) {
                    return response;
                }
            }

            // Default response
            return `Thank you for your question about "${query}". This is an excellent agricultural topic. To get a more detailed response, our AI models would analyze current weather patterns, soil conditions, and regional farming practices specific to your area. Please provide more details such as your location, crop type, and specific challenges you're facing for a more personalized recommendation.`;
        }

        // Focus input on load
        queryInput.focus();
    </script>
</body>

</html>